(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0rhC":function(t,e,a){"use strict";a.r(e);var i=a("vDqi"),s=a.n(i),o=a("z8rv"),n=a("4ZJI"),l=a("z3DO"),r=(a("EVdn"),a("p77/"),a("9RMS"),a("dUJU")),c=a("Tt5C"),d=a("x6DR"),u=a.n(d),m=a("kGIl"),g=a.n(m),f=(a("5A0h"),a("d8FT")),v=a.n(f),h=a("DzJC"),p=a.n(h),C={metaInfo:{title:"Create User"},layout:o.a,components:{Loading:g.a,ImageUpload:r.a,TextInput:n.a,Btn:l.a,editor:c.Editor,VueTagsInput:u.a},data:function(){return{tag:"",tags:this.meme.tags.map((function(t){return t.text=t.name,t})),photo:this.meme.image,loading:!1,isLoading:!1,fullPage:!0,form:{title:this.meme.title,image:{_key:"_image",value:this.meme.image},content:this.editorText},editorText:this.meme.content,editorOptions:{hideModeSwitch:!0,minHeight:"300px",language:"en-US",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0},autocompleteItems:[]}},props:{meme:Object,pageTitle:String},methods:{clickPhoto:function(){document.getElementById("photo").click()},onCancel:function(){console.log("User cancelled the loader.")},selectFile:function(t){var e=this;this.photo=t.target.files[0],console.log(this.photo);var a=new FormData;a.append("photo",this.photo),this.isLoading=!0,s.a.post("/api/uploadPhoto",a).then((function(t){e.isLoading=!1,t.data.success&&(e.form.image=t.data.success,console.log(e.form))}))},scroll:function(){this.$refs.toastuiEditor.invoke("scrollTop",10)},moveTop:function(){this.$refs.toastuiEditor.invoke("moveCursorToStart")},getHtml:function(){return this.$refs.toastuiEditor.invoke("getHtml")},submit:function(){var t=this;this.loading=!0,this.form.content=this.getHtml();var e=this.form;e.tags=this.tags,this.$inertia.post(this.route("memes.store"),e).then((function(){t.$page.flash.success&&(t.photo=null,t.form={title:"",image:{_key:"_image",value:""},content:t.editorText},t.tags=[],t.editorText=""),setTimeout((function(){t.loading=!1}),500)}))}},mounted:function(){console.log(this.meme)},computed:{filteredItems:function(){return this.autocompleteItems}},watch:{tag:{handler:p()((function(){var t=this;if(this.tag.length>0){var e=v()({name:this.tag});s.a.post("/api/getTags",e).then((function(e){t.autocompleteItems=e.data,console.log(e.data)}))}}),500)}}},_=a("KHd+"),b=Object(_.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"a"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"on-cancel":t.onCancel,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("form",{attrs:{method:"post",id:"user_store",action:t.route("memes.store"),autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"row"},[a("text-input",{staticClass:"col-md-12",attrs:{maxlength:500,errors:t.$page.errors.title,label:"Title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("text-input",{staticClass:"col-9 col-md-11",attrs:{maxlength:1e3,errors:t.$page.errors["image.value"]},model:{value:t.form.image.value,callback:function(e){t.$set(t.form.image,"value",e)},expression:"form.image.value"}}),t._v(" "),a("div",{staticClass:"col-1"},[a("input",{staticClass:"d-none",attrs:{id:"photo",type:"file"},on:{change:t.selectFile}}),t._v(" "),a("span",{on:{click:t.clickPhoto}},[a("a",{staticClass:"btn  btn-upload btn-info fa fa-upload"})])])],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{attrs:{for:"content"}},[t._v("Content")]),t._v(" "),a("div",{staticClass:"form-group"},[a("editor",{ref:"toastuiEditor",staticClass:"w-100",attrs:{id:"content",initialValue:t.editorText,options:t.editorOptions,height:"300px",previewStyle:"vertical",initialEditType:"wysiwyg"}})],1)])])])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("btn",{staticClass:"btn btn-success",attrs:{loading:t.loading,form:"user_store",name:"Save"}})],1)]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",[a("vue-tags-input",{attrs:{tags:t.tags,"autocomplete-items":t.filteredItems,"autocomplete-min-length":2},on:{"tags-changed":function(e){return t.tags=e}},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1)])]),t._v(" "),t.form.image.value?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",[a("img",{attrs:{width:"100%",src:t.form.image.value,alt:""}})])])]):t._e()])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("label",[this._v("Link Image")])])}],!1,null,"47d78c7a",null);e.default=b.exports},dUJU:function(t,e,a){"use strict";var i={data:function(){return{image:""}},methods:{onImageChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){var e=new FileReader,a=this;e.onload=function(t){a.image=t.target.result},e.readAsDataURL(t)},uploadImage:function(){axios.post("/image/store",{image:this.image}).then((function(t){console.log(t)}))}}},s=a("KHd+"),o=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card card-default"},[e("div",{staticClass:"card-header"},[this._v("Image")]),this._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:this.onImageChange}})]),this._v(" "),this.image?e("div",{staticClass:"col-md-3"},[e("img",{staticClass:"img-responsive",attrs:{src:this.image,width:"90"}})]):this._e()])])])])])])}),[],!1,null,null,null);e.a=o.exports},z3DO:function(t,e,a){"use strict";var i={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"submit"},form:{type:String,default:"form"},name:{type:String,default:"Submit"},loading:{type:Boolean,default:!1}}},s=a("KHd+"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn",attrs:{disabled:t.loading,type:t.type,id:t.id,form:t.form}},[t.loading?t._e():a("i",{staticClass:"fa fa-save"}),t._v(" "),t.loading?a("i",{staticClass:"fa fa-spinner spinner"}):t._e(),t._v("\n    "+t._s(t.name)+"\n")])}),[],!1,null,null,null);e.a=o.exports}}]);
//# sourceMappingURL=9.js.map?id=c6270b1bbef87023c5a7
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"I/jf":function(t,a,e){"use strict";e.r(a);var i=e("vDqi"),s=e.n(i),o=e("z8rv"),n=e("4ZJI"),l=e("z3DO"),r=(e("EVdn"),e("p77/"),e("9RMS"),e("dUJU")),c=e("Tt5C"),d=e("x6DR"),u=e.n(d),m=e("kGIl"),g=e.n(m),f=(e("5A0h"),e("d8FT")),v=e.n(f),p=e("DzJC"),h=e.n(p),C={metaInfo:{title:"Create User"},layout:o.a,components:{Loading:g.a,ImageUpload:r.a,TextInput:n.a,Btn:l.a,editor:c.Editor,VueTagsInput:u.a},data:function(){return{tag:"",tags:[],photo:null,loading:!1,isLoading:!1,fullPage:!0,form:{title:"",image:{_key:"_image",value:""},content:this.editorText},editorText:"",editorOptions:{hideModeSwitch:!0,minHeight:"300px",language:"en-US",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0},autocompleteItems:[]}},props:{pageTitle:String},methods:{clickPhoto:function(){document.getElementById("photo").click()},onCancel:function(){console.log("User cancelled the loader.")},selectFile:function(t){var a=this;this.photo=t.target.files[0],console.log(this.photo);var e=new FormData;e.append("photo",this.photo),this.isLoading=!0,s.a.post("/api/uploadPhoto",e).then((function(t){a.isLoading=!1,t.data.success&&(a.form.image=t.data.success,console.log(a.form))}))},scroll:function(){this.$refs.toastuiEditor.invoke("scrollTop",10)},moveTop:function(){this.$refs.toastuiEditor.invoke("moveCursorToStart")},getHtml:function(){return this.$refs.toastuiEditor.invoke("getHtml")},submit:function(){var t=this;this.loading=!0,this.form.content=this.getHtml();var a=this.form;a.tags=this.tags,this.$inertia.post(this.route("memes.store"),a).then((function(){t.$page.flash.success&&(t.photo=null,t.form={title:"",image:{_key:"_image",value:""},content:t.editorText},t.tags=[],t.editorText=""),setTimeout((function(){t.loading=!1}),500)}))}},mounted:function(){},computed:{filteredItems:function(){return this.autocompleteItems}},watch:{tag:{handler:h()((function(){var t=this;if(this.tag.length>0){var a=v()({name:this.tag});s.a.post("/api/getTags",a).then((function(a){t.autocompleteItems=a.data,console.log(a.data)}))}}),500)}}},_=e("KHd+"),b=Object(_.a)(C,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"a"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"on-cancel":t.onCancel,"is-full-page":t.fullPage},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("form",{attrs:{method:"post",id:"user_store",action:t.route("memes.store"),autocomplete:"off"},on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"row"},[e("text-input",{staticClass:"col-md-12",attrs:{maxlength:500,errors:t.$page.errors.title,label:"Title"},model:{value:t.form.title,callback:function(a){t.$set(t.form,"title",a)},expression:"form.title"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("text-input",{staticClass:"col-9 col-md-11",attrs:{maxlength:1e3,errors:t.$page.errors["image.value"]},model:{value:t.form.image.value,callback:function(a){t.$set(t.form.image,"value",a)},expression:"form.image.value"}}),t._v(" "),e("div",{staticClass:"col-1"},[e("input",{staticClass:"d-none",attrs:{id:"photo",type:"file"},on:{change:t.selectFile}}),t._v(" "),e("span",{on:{click:t.clickPhoto}},[e("a",{staticClass:"btn  btn-upload btn-info fa fa-upload"})])])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("label",{attrs:{for:"content"}},[t._v("Content")]),t._v(" "),e("div",{staticClass:"form-group"},[e("editor",{ref:"toastuiEditor",staticClass:"w-100",attrs:{id:"content",initialValue:t.editorText,options:t.editorOptions,height:"300px",previewStyle:"vertical",initialEditType:"wysiwyg"}})],1)])])])])])]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("btn",{staticClass:"btn btn-success",attrs:{loading:t.loading,form:"user_store",name:"Save"}})],1)]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",[e("vue-tags-input",{attrs:{tags:t.tags,"autocomplete-items":t.filteredItems,"autocomplete-min-length":2},on:{"tags-changed":function(a){return t.tags=a}},model:{value:t.tag,callback:function(a){t.tag=a},expression:"tag"}})],1)])]),t._v(" "),t.form.image.value?e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",[e("img",{attrs:{width:"100%",src:t.form.image.value,alt:""}})])])]):t._e()])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("label",[this._v("Link Image")])])}],!1,null,"f69f0790",null);a.default=b.exports},dUJU:function(t,a,e){"use strict";var i={data:function(){return{image:""}},methods:{onImageChange:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.createImage(a[0])},createImage:function(t){var a=new FileReader,e=this;a.onload=function(t){e.image=t.target.result},a.readAsDataURL(t)},uploadImage:function(){axios.post("/image/store",{image:this.image}).then((function(t){console.log(t)}))}}},s=e("KHd+"),o=Object(s.a)(i,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-default"},[a("div",{staticClass:"card-header"},[this._v("Image")]),this._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:this.onImageChange}})]),this._v(" "),this.image?a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"img-responsive",attrs:{src:this.image,width:"90"}})]):this._e()])])])])])])}),[],!1,null,null,null);a.a=o.exports},z3DO:function(t,a,e){"use strict";var i={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"submit"},form:{type:String,default:"form"},name:{type:String,default:"Submit"},loading:{type:Boolean,default:!1}}},s=e("KHd+"),o=Object(s.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn",attrs:{disabled:t.loading,type:t.type,id:t.id,form:t.form}},[t.loading?t._e():e("i",{staticClass:"fa fa-save"}),t._v(" "),t.loading?e("i",{staticClass:"fa fa-spinner spinner"}):t._e(),t._v("\n    "+t._s(t.name)+"\n")])}),[],!1,null,null,null);a.a=o.exports}}]);
//# sourceMappingURL=8.js.map?id=abceccab41245cbe8fce